<div class="component-container">
  <div *ngIf="invalid"><span style="color: lightcoral;">{{invalidMsg}}</span></div>

  <div class="reportParameter" *ngIf="dataList">
    <div class="flex-btw wrap">
      

        <div>
          <button mat-flat-button color="primary" [matMenuTriggerFor]="download">Download</button>

          <mat-menu #download="matMenu">
            <button mat-menu-item (click)="downloadPdf()">PDF</button>
            <button mat-menu-item (click)="downloadXcel()">Excel</button>

          </mat-menu>
        </div>&nbsp;&nbsp;
        <div><button style="height: 40px;" mat-flat-button  color="accent" (click)="sendReportByMail()"> Mail
            attachment</button></div>



      
    </div>

  </div>


  <div class="container" style="margin-top: 20px;">
    <div class="flex-btw wrap">


      <div>

        <div *ngIf="daily && !weekly && !quartely && !yearly ">

          <mat-form-field class="jamez-input" floatLabel="never">
            <input matInput autocomplete="off" [(ngModel)]="todate" [matDatepicker]="picker" placeholder="End date">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          &nbsp;

          <button mat-raised-button color="accent" (click)="getDailyReportList()">Search
          </button>
        </div>



        <!-- //////////////daily end///////// -->







        <div *ngIf="!daily && weekly && !quartely && !yearly ">
          <mat-form-field class="chart-selector">
            <mat-label>Year</mat-label>
            <mat-select value="Year" [(ngModel)]="y">
              <mat-option value="Year" select>Year</mat-option>
              <mat-option *ngFor="let year of years" [value]="year" [disabled]="currentYear <year">
                {{year}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          &nbsp;
          <mat-form-field class="chart-selector">
            <mat-label>Month</mat-label>
            <mat-select value="Month" [(ngModel)]="m">
              <mat-option value="Month" select>Month</mat-option>
              <mat-option *ngFor="let month of months" [value]="month.month">
                {{month.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          &nbsp;
          <button mat-raised-button color="accent" (click)="getWeeklyReport()"> Search
          </button>
        </div>


        <!-- //////////////weekly end///////// -->



        <div *ngIf="!daily && !weekly && quartely && !yearly ">
          <mat-form-field>
            <mat-label>Select Quartely start</mat-label>
            <mat-select [(ngModel)]="startquarter">

              <mat-option value="1">First quarter</mat-option>
              <mat-option value="2">Second quarter</mat-option>
              <mat-option value="3">Third quarter</mat-option>
              <mat-option value="4">Fourth quarter</mat-option>
            </mat-select>
          </mat-form-field>
          &nbsp;
          <mat-form-field>
            <mat-label>Select Quartely end</mat-label>
            <mat-select [(ngModel)]="endquarter">

              <mat-option value="1">First quarter</mat-option>
              <mat-option value="2">Second quarter</mat-option>
              <mat-option value="3">Third quarter</mat-option>
              <mat-option value="4">Fourth quarter</mat-option>
            </mat-select>
          </mat-form-field>
          &nbsp;
          <mat-form-field class="chart-selector">
            <mat-label>Year</mat-label>
            <mat-select value="Year" [(ngModel)]="y">
              <mat-option value="Year" select>Year</mat-option>
              <mat-option *ngFor="let year of years" [value]="year" [disabled]="currentYear <year">
                {{year}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          &nbsp;
          <button mat-raised-button color="accent" (click)="getQuartelyReport()"> Search
          </button>
        </div>

        <!-- ///////////////Quartely end///////////// -->





        <div *ngIf="!daily && !weekly && !quartely && yearly ">
          &nbsp;
          <mat-form-field class="chart-selector">
            <mat-label>Year</mat-label>
            <mat-select value="Year" [(ngModel)]="y">
              <mat-option value="Year" select>Year</mat-option>
              <mat-option *ngFor="let year of years" [value]="year" [disabled]="currentYear <year">
                {{year}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          &nbsp;
          <button mat-raised-button color="accent" (click)="getYearlyReport()"> Search
          </button>
        </div>
        &nbsp;

      </div>

      <div>

        <div *ngIf="loading">
          <mat-spinner color="accent" [strokeWidth]=3 [diameter]=18>
          </mat-spinner>
        </div>&nbsp;
        &nbsp;
        <mat-form-field>
          <mat-label>Select report option</mat-label>
          <mat-select [(ngModel)]="reportOption" (ngModelChange)="reportOptionSelector($event)">

            <mat-option value="daily">Daily report</mat-option>
            <mat-option value="weekly">Weekly report</mat-option>
            <mat-option value="quartely">Quarter report</mat-option>
            <mat-option value="yearly">Yearly report</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
    <table mat-table [dataSource]="listData" matSort aria-label="Elements"
      *ngIf="daily && !weekly && !quartely && !yearly">
      <ng-container matColumnDef="card">
        <th mat-header-cell *matHeaderCellDef>Card</th>
        <td mat-cell *matCellDef="let row" data-label="Card">{{row.card}}</td>
      </ng-container>

      <ng-container matColumnDef="sunday">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let row" data-label="Sunday">{{row.sunday}}</td>
      </ng-container>

      <ng-container matColumnDef="monday">
        <th mat-header-cell *matHeaderCellDef>Monday</th>
        <td mat-cell *matCellDef="let row" data-label="Monday">{{row.monday}}</td>
      </ng-container>

      <ng-container matColumnDef="tuesday">
        <th mat-header-cell *matHeaderCellDef>Account holder</th>
        <td mat-cell *matCellDef="let row" data-label="Tuesday">{{row.tuesday}}</td>
      </ng-container>

      <ng-container matColumnDef="wednessday">
        <th mat-header-cell *matHeaderCellDef>Wednessday</th>
        <td mat-cell *matCellDef="let row" data-label="Wednessday">{{row.wednessday}}</td>
      </ng-container>

      <ng-container matColumnDef="thursday">
        <th mat-header-cell *matHeaderCellDef>Thursday</th>
        <td mat-cell *matCellDef="let row" data-label="Thursday">{{row.thursday}}</td>
      </ng-container>

      <ng-container matColumnDef="friday">
        <th mat-header-cell *matHeaderCellDef>Friday</th>
        <td mat-cell *matCellDef="let row" data-label="Friday">{{row.friday}}</td>
      </ng-container>

      <ng-container matColumnDef="saturday">
        <th mat-header-cell *matHeaderCellDef>Saturday</th>
        <td mat-cell *matCellDef="let row" data-label="Saturday">{{row.saturday}}</td>
      </ng-container>

      <ng-container matColumnDef="no-activity">
        <mat-footer-cell *matFooterCellDef>
          No record found
        </mat-footer-cell>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      <mat-footer-row *matFooterRowDef="['no-activity']" [ngClass]="{'hide': tableLength != 0 }">
      </mat-footer-row>
    </table>


    <!-- ////////weekly table////////////////////////////////////// -->
    <table mat-table class="full-width-table" [dataSource]="listData" matSort aria-label="Elements"
    *ngIf="!daily && weekly && !quartely && !yearly">
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let row" data-label="NAME">{{row.name}}</td>
    </ng-container>

    <ng-container matColumnDef="week1">
      <th mat-header-cell *matHeaderCellDef>Week1</th>
      <td mat-cell *matCellDef="let row" data-label="Week1">{{row.week1}}</td>
    </ng-container>

    <ng-container matColumnDef="week2">
      <th mat-header-cell *matHeaderCellDef>Week2</th>
      <td mat-cell *matCellDef="let row" data-label="Week2">{{row.week2}}</td>
    </ng-container>

    <ng-container matColumnDef="week3">
      <th mat-header-cell *matHeaderCellDef>Week3</th>
      <td mat-cell *matCellDef="let row" data-label="Week3">{{row.week3}}</td>
    </ng-container>

    <ng-container matColumnDef="week4">
      <th mat-header-cell *matHeaderCellDef>Week4</th>
      <td mat-cell *matCellDef="let row" data-label="Week4">{{row.week4}}</td>
    </ng-container>

    <ng-container matColumnDef="week5">
      <th mat-header-cell *matHeaderCellDef>Week5</th>
      <td mat-cell *matCellDef="let row" data-label="week5">{{row.week5}}</td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let row" data-label="Status">{{row.status}}</td>
    </ng-container>

    <ng-container matColumnDef="no-activity">
      <mat-footer-cell *matFooterCellDef>
        No record found
      </mat-footer-cell>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumnsWeekly; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsWeekly;"></tr>
    <mat-footer-row *matFooterRowDef="['no-activity']" [ngClass]="{'hide': tableLength != 0 }">
    </mat-footer-row>
  </table>

    <!-- ///////Quartely table////////////////////////////////////// -->

    <table mat-table class="full-width-table" [dataSource]="listData" matSort aria-label="Elements"
      *ngIf="!daily && !weekly && quartely && !yearly">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let row" data-label="NAME">{{row.name}}</td>
      </ng-container>

      <ng-container matColumnDef="channel">
        <th mat-header-cell *matHeaderCellDef>Channel</th>
        <td mat-cell *matCellDef="let row" data-label="Channel">{{row.channel}}</td>
      </ng-container>

      <ng-container matColumnDef="q1">
        <th mat-header-cell *matHeaderCellDef>Q1</th>
        <td mat-cell *matCellDef="let row" data-label="Q1">{{row.q1}}</td>
      </ng-container>

      <ng-container matColumnDef="q2">
        <th mat-header-cell *matHeaderCellDef>Q2</th>
        <td mat-cell *matCellDef="let row" data-label="Q2">{{row.q2}}</td>
      </ng-container>

      <ng-container matColumnDef="q3">
        <th mat-header-cell *matHeaderCellDef>Q3</th>
        <td mat-cell *matCellDef="let row" data-label="Q3">{{row.q3}}</td>
      </ng-container>

      <ng-container matColumnDef="q4">
        <th mat-header-cell *matHeaderCellDef>Q4</th>
        <td mat-cell *matCellDef="let row" data-label="Q4">{{row.q4}}</td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let row" data-label="Status">{{row.status}}</td>
      </ng-container>

      <ng-container matColumnDef="no-activity">
        <mat-footer-cell *matFooterCellDef>
          No record found
        </mat-footer-cell>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumnsQuarterly; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsQuarterly;"></tr>
      <mat-footer-row *matFooterRowDef="['no-activity']" [ngClass]="{'hide': tableLength != 0 }">
      </mat-footer-row>
    </table>



    <!-- ///////Yearly table////////////////////////////////////// -->

    <table mat-table class="full-width-table" [dataSource]="listData" matSort aria-label="Elements"
      *ngIf="!daily && !weekly && !quartely && yearly">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let row" data-label="Name">{{row.name}}</td>
      </ng-container>

      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef>Date</th>
        <td mat-cell *matCellDef="let row" data-label="Date">{{row.startdate |date}}</td>
      </ng-container>

      <ng-container matColumnDef="jan">
        <th mat-header-cell *matHeaderCellDef>JAN</th>
        <td mat-cell *matCellDef="let row" data-label="JAN">{{row.january}}</td>
      </ng-container>

      <ng-container matColumnDef="feb">
        <th mat-header-cell *matHeaderCellDef>FEB</th>
        <td mat-cell *matCellDef="let row" data-label="FEB">{{row.february}}</td>
      </ng-container>

      <ng-container matColumnDef="mar">
        <th mat-header-cell *matHeaderCellDef>MAR</th>
        <td mat-cell *matCellDef="let row" data-label="MAR">{{row.march}}</td>
      </ng-container>

      <ng-container matColumnDef="apr">
        <th mat-header-cell *matHeaderCellDef>Apr</th>
        <td mat-cell *matCellDef="let row" data-label="APR">{{row.april}}</td>
      </ng-container>

      <ng-container matColumnDef="may">
        <th mat-header-cell *matHeaderCellDef>MAY</th>
        <td mat-cell *matCellDef="let row" data-label="MAY">{{row.may}}</td>
      </ng-container>

      <ng-container matColumnDef="jun">
        <th mat-header-cell *matHeaderCellDef>JUN</th>
        <td mat-cell *matCellDef="let row" data-label="JUN">{{row.june}}</td>
      </ng-container>

      <ng-container matColumnDef="jul">
        <th mat-header-cell *matHeaderCellDef>JUL</th>
        <td mat-cell *matCellDef="let row" data-label="JUL">{{row.july}}</td>
      </ng-container>

      <ng-container matColumnDef="aug">
        <th mat-header-cell *matHeaderCellDef>AUG</th>
        <td mat-cell *matCellDef="let row" data-label="AUG">{{row.august}}</td>
      </ng-container>

      <ng-container matColumnDef="sep">
        <th mat-header-cell *matHeaderCellDef>SEPT</th>
        <td mat-cell *matCellDef="let row" data-label="SEPT">{{row.september}}</td>
      </ng-container>

      <ng-container matColumnDef="oct">
        <th mat-header-cell *matHeaderCellDef>OCT</th>
        <td mat-cell *matCellDef="let row" data-label="OCT">{{row.october}}</td>
      </ng-container>

      <ng-container matColumnDef="nov">
        <th mat-header-cell *matHeaderCellDef>NOV</th>
        <td mat-cell *matCellDef="let row" data-label="NOV">{{row.november}}</td>
      </ng-container>

      <ng-container matColumnDef="dec">
        <th mat-header-cell *matHeaderCellDef>DEC</th>
        <td mat-cell *matCellDef="let row" data-label="DEC">{{row.december}}</td>
      </ng-container>

      <ng-container matColumnDef="no-activity">
        <mat-footer-cell *matFooterCellDef>
          No record found
        </mat-footer-cell>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumnsYearly; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsYearly;"></tr>
      <mat-footer-row *matFooterRowDef="['no-activity']" [ngClass]="{'hide': tableLength != 0 }">
      </mat-footer-row>
    </table>

    <mat-paginator #paginator class="paginator" [length]="tableLength" [pageIndex]="0" [pageSize]="50">
    </mat-paginator>

  </div>

</div>